# 소개 및 OOP
- 컴퓨터가 이해하는 코드는 누구나 만들 수 있지만 사람이 이해하는 코드는 잘 훈련되고 교육 받은 사람이 만들 수 있다.
- 대부분의 버그는 수정 중에 발생한다.
- 돌아가는 코드가 아니라 읽을 수 있는 코드
- IDE의 리펙토링 기능을 가지고 리펙토링 할 수 있다.

## Why Clean Code
- SW는 한번 작성되면 최소 10번 이상 읽히기 때문에 읽기 편하도록 작성해야 한다.
- 대부분 유지보수 업무를 많이 한다. 그렇다면 돌아가는 코드를 빨리 만드는게 좋을까? 잘 읽히는 코드를 만드는게 좋을까?

## Why OOP
### 절차지향
- 중간에 데이터가 있고 이 데이터를 가지고 돌아가는 함수들이 있다.
- 데이터의 변경이 생기면 많은 함수에서 영향이 생긴다.

### 객체지향
- 데이터는 그 데이터를 사용하는 객체에 매핑되어 있다.
- 데이터에 변경이 생기면 해당 객체만 영향이 생긴다.
- 각각의 객체는 서로 인터페이스로 연결되어 각자 구체적인 내용을 모른다.
- 객체가 가진 모든 것을 노출하지 않고 필요한 것만 노출한다.
- 데이터와 코드가 Encapsulated

- 초기 진입이 절차지향이 쉽고 사고가 대부분 절차지향 방식으로 하기 때문에 대부분 절차지향을 많이 사용한다.
- 리펙토링을 통해 절차지향을 객체지향으로 바꾼다.
- 한번 사용하고 버릴게 아니면 OOP로 개발해야한다.

## Object / Role / Responsibility
- 클래스의 이름을 어떻게로 정의하지 말고 무엇으로 정의해야 한다.
    - JsonRequestParser(x), RequestParser(o)
- 역할 : 시스템 사용하는 사람들 (글쓰기 사용자, 운영자, 비로그인 사용자), 사용하는 기능으로 그루핑 되는 유저 그룹
- 책임 : 역할에 대해서 시스템에서 제공되야 되는 기능들
- 객체는 역할을 갖는다.

## 객체지향 설계 과정
- 기능을 제공할 객체 후보 선별 : 역할에 따라 객체를 나눈다.
- 객체 간의 메세지 흐름 연결
- 위 두 단계를 반복
- 기능 별로 객체들이 각각의 역할을 가지고 있고 그 객체들을 이용해서 전체적인 플로우를 정하는 객체가 있다.

```
FlowController
FileReader
Encrypter
FileWriter
```

- FileReader, Encrypter, FileWriter 는 라이브러리 같은 역할이고 FlowController에 비즈니스 로직이 있다.

## Encapsulation
- 내부의 변화가 외부에 영향을 주면 안된다.
- 데이터를 요청해서 변경하거나 저장하지 말고 어떤 기능을 실행해야 한다.
- 객체가 자기 상태에 대해서 외부에 알려주는 정보가 많다. (이러면 안된다.)
- 남이 가진 속성을 가지고 내가 판단하면 안된다.
- 데이터를 제공하기 보단 기능을 제공해야 한다.
- 내부 상태를 변경하는 기능과 상태를 제공하는 기능이 하나의 메소드에 같이 있으면 안된다.
- 상태를 두개 이상 변경하면 안된다.
- 메소드가 command 이면 내부 상태를 변경하고 리턴 타입이 없을거라 생각하게 된다.
- 메소드가 query 이면 내부 상태를 변경 안할거라고 생각하게 된다.

## Polymorphism
- 자식 클래스의 객체를 부모 클래스 변수에 담을 수 있다.
- 다형 = 형을 다양하게 가질 수 있다.
- 상속을 이용해서 부모 클래스의 기능을 가져다 쓰게 되면 움직일 수 없는 상태에 빠져 건드릴 수 없게 된다. 즉, 리펙토링이 힘들어진다.
- 재사용을 한다는 것은 인터페이스를 사용한다는 것이다.
- 인터페이스를 사용하는 이유
    - 구현체가 두개 이상이 안된다는 보장이 없다.
    - 인터페이스를 쓰면 테스트하기가 쉬워진다. (mock을 사용할 수 있어서 인거 같음)
    - 부가적인 기능을 넣기 쉽다. (proxy나 데코레이터를 사용)
    - 인터페이스를 사용하는 코드는 재사용 할 수 있다.
- 라이브러리 처럼 만들어서 여기 저기서 사용하는게 재사용이 아니다.
- 고수준의 비즈니스 로직이 저수준의 로직 변경에 영향을 받지 않는다.
- 상속은 가장 강한 의존성 중에 하나.
- 상세에 빠지기 시작하면 한발짝 물러나서 추상에 대해 생각해보자.
- 팩토리는 재사용되지 않아도 되고 더러워져도 괜찮지만 비즈니스 로직은 재사용되야 되고 깨끗해야 한다.
- DI 사용

## 참고
https://youtu.be/60lLSe1phks