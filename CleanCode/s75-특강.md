# 우아한 코드
- 우아한 코드 !== 당장 돌아간다.
- 리더블, 클린, 예상되는, 배려하는, 뭔지 알거 같은, 단순하지 그지 없는, 자꾸 감상하고 싶은, 폼잡지 않은, 표준사랑...
- 품질 존중 && 내(팀)의지 && 일정여유 => 개발우아한()

---

## 클린코드?
- 나중에 하면 되는거? X
- 변경을 위한 코딩
- 컴퓨터가 이해하는 코드 > 당장 버그 없는 코드, 사람이 읽기 좋은 코드 > 앞으로도 버그 없는 코드
- 가독성!!
- 성능과 가독성은 공존하기 힘든 경우가 있다.
    - 성능 보단 가독성!
    - 성능은 차차 하자~

### 클린코드 전략
- 언제까지 유지?
- 어떤 기능 추가?
- 사용자는 어떤 사람?
- 어떤 환경에서?
- 누구 주로 유지보수?
- 제약적인 환경에서 어떻게 최선을 찾을 것인가!!

---

## 클린 설계
- 클린한 설계가 클린 코드를 만든다.
- 사용하는 쪽 코드를 먼저 구현하기
    - 어색하지 않을때까지 한다.
- 사고의 흐름에 맞춰, 간단하고, 명확한 구조가 나올 때까지 계속 설계

### 함수 수준의 설계
- 이름만 질 지으면 중간은 간다.
- 파라미터와 반환에 집중
    - 무엇을 받아서 무엇을 전달해 줄 것인가?
- 구현 후 설계 회고
    - 이름과 반환이 다르면?...

---

## 이름 짓는게 어려워...
- 구체적인 의미를 부여하자
- 함수 == '무엇을 하다'
- getXXX
    - 길어야 2-3 줄로, 예상할 수 있는 범위에서 동작하도록
    - 프로그래머들이 예상 가능한 범위에서 개발하는게 좋다
- 예약어 아닌 예약어도 예약어다.
    - 예약어로 이름을 짓지 말자
- 의미 없는 숫자를 쓰지 말고, 분리해서 변수로 사용하자.
- object literal를 이용하여 매개변수를 전달
    - 매개변수에 이름을 지어서 알아보기 쉽게

---

## 편안한 코드
- 긍정 우선 코드로.
    - ===
    - 문장을 읽듯이
- 조건문의 식을 함수로 만들어서 의미 있는 이름을 지어주자
- 불필요한 매핑 없애기
- (배열의 인덱스에 해당하는 값 같은)알 수 없는 값
- for문 하나에서 모든 로직을 처리하는 것을 라이브러리를 사용하여 나누자 (언어에서 지원해줘야 해!!)
- 적절한 분리 > 지나친 분리 >>>> 모아두기
- 참조 투명서
    - 같은 입력에 같은 출력 -> 순수 함수
    - (함수 안에서 함수 밖의 값을 변경하지 않는다.)
- 상태를 쉽게 예상하기
    - immutable로 만들기
    - 함수를 잘게 자르고 상태 관리를 어떻게 할 것인가!
- 사고의 흐름으로 동작하는 건 다 좋다!
- 최근 표준으로 더 안전하고 편안한 코드를...
    - ES6+ 에서 지원하는 문법들을 사용하자 (const, let, default parameter, arrow function, ...)
    - (회사에서 못 써요...ㅠㅠ)
- prototype -> class extends
    - prototype은 알고 쓰자
- 가급적 더 나아보이는 문법사용
    - then -> async - await
- 코드수정이 어렵다면? 주석을 사용!
    - 자신이 없으면 주석으로 표현
    - 주석에 의지하진 말자

---

## 복잡하니 싫터라...
- 아닌건 빨리 반환하기
    - else 문도 필요 없다
    - 반복문에서는 빨리 continue
- 중첩은 그냥 냅두지 말기
    - 알고리즘 개선으로 복잡도 줄이기
- 복잡한건 나누자
- 복잡한 녀석을 숨겨버리기
    - 함수로 숨기고 의미 있는 이름을 지어준다.
    - 재사용이 가능해진다.
- 객체관계를 통한 조건문 없애기

---

## 일관됨
- 최소한의 코딩컨벤션 유지하기
    - naming rule
- 반복처리를 마구 반복하지 말자
    - for / forEach / reduce / map / filter ...
- 싫어도 팀을 위해 맞추라

## OOP
- SOLID
    - 변경에 잘 대응하는 코드
- 클래스 구조를 단순하게 유지
    - 복잡한 상속은 잘 못하면 망한다.
    - 숙련이 되지 않은 사람에겐 어렵다.
- 때론 상속 대신 mixin이나 합성(composition)
    - Object.assign
- 서브 기능은 바껴도 메인 기능은 그대로
    - 의존성 주입
    - 비슷한 동작은 일관된 API로 동작
    - 변경에 강한 코드를 만든다.
- 필수가 아니면 옵션으로 제공
- 클래스에 안전장치 마련하기
    - private

---

## 에러처리
- 똑똑한 에러 메세지
    - 무엇을 해라!
- 재사용 라이브러리면 custom error도 멋짐

---

## 재건축 Refactoring!!
- 복잡한 코드가 나오기 전에 짧은 주기의 리팩토링
    - 개발 중에 계속해서 리팩토링한다.
    - (리팩토링은 맘먹고 하는게 아니다. 코드를 건드리게 되면 무조건 하자)
- 중복부터 없애자
    - 쉬운 일이 아니야...
    - 어떤 패턴을 사용할거지?
- 크기만 줄여도 절반은 성공
- 전역변수를 제거하자
    - JS는 전역변수 관리를 잘 못하면 위험하다!
    - 인자 / 매개변수 잘 쓰기
    - 객체 / 클래스 사용
- 내부 보호
    - 클로저 사용
- 멤버변수는 전역변수와 뭐가 다른가?
    - 불필요하게 this에게 다 넣으면 전역 변수랑 다를게 없다.

---

## API 사용 -> 없는 것 직접 만들어보기 -> 라이브러리 쓰기
- 건들 수 있다고 건드려야 하는건 아니다.
    - native API나 라이브러리는 좀더 안전하게 확장하기
    - class smartCollection extends Array { ... }
- 프레임워크가 우리코드를 클린하게 해주진 않는다.
    - 리액트기 훌륭하지만 우리 코드를 훌륭하게 만들어 주진 않는다.
    - 오히려 더 헬이 될 수 있다...
    - 여러 결정 사항을 잘 정해야 한다.

---

클린코드는 남을 배려하는 코드다. 그런데 결국 나를 배려하는 코드이기도 하다.
    - (내일의 나는 오늘의 나한텐 남이야)

클린코드는 개발문화의 결과물 끊임없이 설득하라!
    - 리뷰문화
    - 품질우선
    - 함께 성장
    - 페어 프로그래밍