# Javascript 기본 - 참조

## 복제란?
- 전자화된 시스템의 가장 중요한 특징

```javascript
var a = 1;
var b = a;
b = 2;
console.log(a);     // 2
```

- 원시 데이터 타입일 땐 값이 복제 된다.
- ```b = a```를 하면 b가 a 자체가 되는 것이 아니고 a의 값이 b에 복제 된다.
- 따라서 두 변수는 값을 같아도 다른 메모리 공간을 가지고 있다.
- 그래서 ```b = 2```를 하여도 a엔 아무 영향이 없다.

## 참조

```javascript
var a = {'id':1};
var b = a;
b.id = 2;
console.log(a.id)   // 2
```

- b에 담겨 있는 객체의 프로퍼티 값을 변경하면 a에 담겨 있는 객체의 프로퍼티 값도 변경된다.
- ```var a = {'id':1};```를 실행하면 객체가 생성되고 a는 그 객체를 가리키고 있다.
- ```var b = a;```를 실행하면 a가 가리키고 있는 객체를 b도 가리키고 있게 된다.
- 따라서 ```b.id = 2;```를 하면 b가 가리키는 객체의 프로퍼티가 변경 되는 것이므로 같은 객체를 가리키고 있는 a의 a.id도 2가 된다.
- 즉, a와 b는 같은 객체의 참조 값을 가지고 있는 것이다.

```javascript
var a = {'id':1};
var b = a;
b = {'id':2};
console.log(a.id)   // 1
```

- ```b = {'id':2};```를 실행하면 새로운 객체를 만들어서 변수 b에 할당한다.
- 따라서 b는 더이상 a와 같은 객체를 가리키고 있는게 아니고 새로 만든 객체를 가리킨다.
- var b = a;
    - 객체인 경우 a와 b는 똑같은 객체를 바라보게 된다. (같은 참조 값을 가지고 있기 때문에) 
    - 원시 데이터 타입인 경우 a와 b는 같은 값을 가지고 있지만 a의 값이 복제 되서 b에 들어가기 때문에 서로 별개이다.

## 함수와 참조

```javascript
var a = 1;
function func(b) {
    b = 2;
}
func(a);
console.log(a);
// 결과 : 1
```

- ```b = a```가 된다.
- 원시 데이터 타입이기 때문에 a에 담겨 있는 값을 복제해서 별도의 값이 만들어지고 b에 담기게 된다.
- 그렇기 때문에 함수 안에서 b의 값을 2로 바꿔도 a에 담겨 있는 값에는 어떠한 영향도 주지 않는다.

```javascript
var a = {'id':1};
function fun(b) {
    b = {'id':2};
}
func(a);
console.log(a.id);
// 결과 : 1
```

- 변수에 담겨 있는 값이 객체이다.
- ```b = a```가 되기 때문에 함수 호출시 두 변수는 같은 객체를 가리키게 된다.
- 하지만 함수 안에서 ```b = {'id':2};```로 하기 때문에 b에 새로운 객체가 할당 된다.
- 그로 인해서 b와 a 사이의 링크는 끊기게 된다.
- 그렇기 때문에 a에 담겨 있는 객체는 그대로 이다.

```javascript
var a = {'id':1};
function fun(b) {
    b.id = 2;
}
func(a);
console.log(a.id);
// 결과 : 2
```

- ```b = a```가 되기 때문에 함수 호출시 두 변수는 같은 객체를 참조하게 된다.
- 따라서 b의 id 값을 바꾸면 a의 id 값도 변경 된다.
- 문자열, 숫자, 불리언은 객체처럼 사용할 수 있지만 원시 데이터 타입이다.

